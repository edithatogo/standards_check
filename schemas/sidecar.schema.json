{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://example.org/schemas/sidecar.schema.json",
  "title": "Checklist Sidecar Metadata",
  "type": "object",
  "required": [
    "id", "title", "group", "version", "date", "publisher",
    "source_url", "retrieved_at", "preferred_format", "checksum", "license"
  ],
  "properties": {
    "id": { "type": "string", "pattern": "^[a-z0-9]+(-[a-z0-9]+)*$" },
    "title": { "type": "string" },
    "group": { "type": "string" },
    "version": { "type": ["string","number"] },
    "date": { "type": ["string","null"], "pattern": "^\\d{4}-\\d{2}-\\d{2}$" },
    "publisher": { "type": "string" },
    "source_url": { "type": "string" },
    "retrieved_at": { "type": ["string","null"], "pattern": "^\\d{4}-\\d{2}-\\d{2}$" },
    "preferred_format": { "type": "string", "enum": ["pdf","html","docx","csv"] },
    "checksum": { "type": "string" },
    "license": { "type": "string" },
    "verified": { "type": "boolean" },
    "notes": { "type": "string" },
    "citation": {
      "type": "object",
      "properties": {
        "type": { "type": "string", "enum": ["article-journal", "report", "webpage"] },
        "author": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "given": { "type": "string" },
              "family": { "type": "string" }
            },
            "required": ["family"]
          }
        },
        "doi": { "type": "string" },
        "journal": { "type": "string" },
        "volume": { "type": ["string", "number"] },
        "issue": { "type": ["string", "number"] },
        "pages": { "type": "string" }
      }
    }
  },
  "additionalProperties": true
}

